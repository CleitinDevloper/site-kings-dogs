<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Painel Administrativo — KingsDog</title>

  <!-- Fonte e ícones (externos) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

  <!-- CSS externo -->
  <link rel="stylesheet" href="/admin/style.css"/>

  <!-- CSP: permitimos apenas scripts 'self' (script.js é externo e servido pelo seu servidor) -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; script-src 'self'; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com;">
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">KD</div>
      <div>
        <h1>Painel Administrativo</h1>
        <p class="muted">Visão geral — métricas, pedidos, funcionários e estoque</p>
      </div>
    </div>

    <div class="header-actions">
      <button id="refreshBtn" class="btn small"><i class="fa-solid fa-arrows-rotate"></i> Atualizar</button>
      <button id="logoutBtn" class="btn ghost"><i class="fa-solid fa-right-from-bracket"></i> Sair</button>
    </div>
  </header>

  <main class="layout">
    <aside class="sidebar">
      <nav class="tabs" role="tablist" aria-label="Painel">
        <button class="tab active" data-tab="tab-dashboard"><i class="fa-solid fa-chart-line"></i> Dados</button>
        <button class="tab" data-tab="tab-orders"><i class="fa-solid fa-shopping-cart"></i> Pedidos</button>
        <button class="tab" data-tab="tab-employees"><i class="fa-solid fa-users"></i> Funcionários</button>
        <button class="tab" data-tab="tab-stock"><i class="fa-solid fa-boxes-stacked"></i> Estoque</button>
      </nav>

      <section class="side-cards">
        <div class="card small">
          <strong>Total pedidos</strong>
          <div id="sideTotalOrders" class="big">0</div>
        </div>
        <div class="card small">
          <strong>Receita (R$)</strong>
          <div id="sideRevenue" class="big">R$ 0,00</div>
        </div>
        <div class="card small">
          <strong>Funcionários</strong>
          <div id="sideEmployees" class="big">0</div>
        </div>
      </section>
    </aside>

    <section class="content">
      <section id="tab-dashboard" class="panel show" role="tabpanel">
        <div class="grid">
          <div class="card metric">
            <div class="metric-header">Pedidos feitos</div>
            <div id="metricOrders" class="metric-value">0</div>
          </div>

          <div class="card metric">
            <div class="metric-header">Receita (R$)</div>
            <div id="metricRevenue" class="metric-value">R$ 0,00</div>
          </div>

          <div class="card metric">
            <div class="metric-header">Ranking - Top 3</div>
            <ol id="metricRanking" class="ranking">
              <li>—</li>
            </ol>
          </div>

          <div class="card">
            <div class="card-title">Atividade recente</div>
            <div id="activityList" class="activity-list">
              <div class="muted">Nenhuma atividade</div>
            </div>
          </div>
        </div>
      </section>

      <section id="tab-orders" class="panel" role="tabpanel" aria-hidden="true">
        <div class="panel-actions">
          <textarea id="importInput" placeholder="Cole aqui sua lista de pedidos (HTML / JSON / linhas separadas)."></textarea>
          <div class="controls">
            <button id="importBtn" class="btn"><i class="fa-solid fa-file-import"></i> Importar Pedidos</button>
            <button id="clearOrdersBtn" class="btn ghost"><i class="fa-solid fa-trash"></i> Limpar</button>
          </div>
        </div>

        <div class="card">
          <div class="card-title">Lista de Pedidos</div>
          <div id="ordersContainer" class="list"></div>
        </div>
      </section>

      <section id="tab-employees" class="panel" role="tabpanel" aria-hidden="true">
        <div class="panel-actions">
          <div class="controls">
            <button id="btnAddEmployee" class="btn"><i class="fa-solid fa-user-plus"></i> Cadastrar Funcionário</button>
            <input id="employeeSearch" class="input" placeholder="Buscar funcionário..." />
          </div>
        </div>

        <div class="card">
          <div class="card-title">Funcionários</div>
          <div id="employeesContainer" class="list"></div>
        </div>
      </section>

      <section id="tab-stock" class="panel" role="tabpanel" aria-hidden="true">
        <div class="panel-actions">
          <div class="controls">
            <button id="btnAddProduct" class="btn"><i class="fa-solid fa-plus"></i> Novo Produto</button>
            <input id="productSearch" class="input" placeholder="Buscar produto..." />
          </div>
        </div>

        <div class="card">
          <div class="card-title">Estoque</div>
          <div id="stockContainer" class="grid-products"></div>
        </div>
      </section>
    </section>
  </main>

  <div id="modalOverlay" class="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-box">
      <button class="modal-close" id="modalClose"><i class="fa-solid fa-xmark"></i></button>
      <h3 id="modalTitle">Pedido</h3>

      <div id="modalBody" class="modal-body">

      </div>

      <div class="modal-footer">
        <textarea id="modalGeneralObs" placeholder="Observação geral (visível ao operador)"></textarea>
        <div class="modal-actions">
          <button id="markDeliveredBtn" class="btn success"><i class="fa-solid fa-check"></i> Pedido Entregue</button>
        </div>
      </div>
    </div>
  </div>

  <div id="modalEmployee" class="modal" aria-hidden="true">
    <div class="modal-box">
      <button class="modal-close" data-close="modalEmployee"><i class="fa-solid fa-xmark"></i></button>
      <h3>Cadastrar Funcionário</h3>
      <div class="modal-body">
        <label>Usuário <input id="emp_usuario" class="input" /></label>
        <label>Senha <input id="emp_senha" class="input" type="password" /></label>
        <label>Nome <input id="emp_nome" class="input" /></label>
        <label>Número <input id="emp_numero" class="input" type="number" /></label>
        <label>Cargo <input id="emp_cargo" class="input" /></label>
      </div>
      <div class="modal-footer">
        <div class="modal-actions">
          <button class="btn ghost" data-close="modalEmployee">Cancelar</button>
          <button id="saveEmployeeBtn" class="btn"><i class="fa-solid fa-save"></i> Salvar</button>
        </div>
      </div>
    </div>
  </div>

  <div id="modalProduct" class="modal" aria-hidden="true">
    <div class="modal-box">
      <button class="modal-close" data-close="modalProduct"><i class="fa-solid fa-xmark"></i></button>
      <h3>Novo Produto</h3>
      <div class="modal-body">
        <label>Nome <input id="prod_nome" class="input" /></label>
        <label>Imagem (URL) <input id="prod_img" class="input" /></label>
        <label>Quantidade <input id="prod_qt" class="input" type="number" value="1" /></label>
      </div>
      <div class="modal-footer">
        <div class="modal-actions">
          <button class="btn ghost" data-close="modalProduct">Cancelar</button>
          <button id="saveProductBtn" class="btn"><i class="fa-solid fa-save"></i> Salvar</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/admin/script.js"></script>
</body>
</html>